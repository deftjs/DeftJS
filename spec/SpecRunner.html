<!DOCTYPE html>
<html>
	<head>
		<title>Jasmine Spec Runner</title>
		
		<!-- Jasmine -->
		<link rel="stylesheet" type="text/css" href="lib/jasmine-1.2.0/jasmine.css">
		<script type="text/javascript" src="lib/jasmine-1.2.0/jasmine.js"></script>
		<script type="text/javascript" src="lib/jasmine-1.2.0/jasmine-html.js"></script>
		
		<!-- Ext JS -->
		<!-- <script type="text/javascript" src="http://cdn.sencha.io/ext-4.0.7-gpl/ext-all.js"></script> -->
		<!-- <script type="text/javascript" src="http://cdn.sencha.io/ext-4.1.0-gpl/ext-all.js"></script> -->
		<script type="text/javascript" src="http://cdn.sencha.io/ext-4.1.1a-gpl/ext-all.js"></script>
		
		<!-- Sencha Touch -->
		<!-- <script type="text/javascript" src="http://cdn.sencha.io/touch/sencha-touch-2.0.1/sencha-touch-all.js"></script> -->
        <!-- <script type="text/javascript" src="http://cdn.sencha.io/touch/sencha-touch-2.1.0/sencha-touch-all.js"></script> -->
		
		<!-- DeftJS -->
		<script type="text/javascript" src="../build/deft-debug.js"></script>
		
		<!-- DeftJS specs -->
		<script type="text/javascript" src="js/Deft/ioc/Injector.js"></script>
		<script type="text/javascript" src="js/Deft/mixin/Injectable.js"></script>
		<script type="text/javascript" src="js/Deft/mvc/ViewController.js"></script>
		<script type="text/javascript" src="js/Deft/mixin/Controllable.js"></script>
		<script type="text/javascript" src="js/Deft/promise/Deferred.js"></script>
		<script type="text/javascript" src="js/Deft/promise/Promise.js"></script>
		<script type="text/javascript" src="js/Deft/util/Function.js"></script>
	</head>
	<body>
		<script type="text/javascript">
			// Tweak Jasmine's "pretty print" logic to make it aware of Sencha classes.
			jasmine.PrettyPrinter.prototype.format = Ext.Function.createInterceptor(jasmine.PrettyPrinter.prototype.format, function (value) {
				if (value instanceof Ext.ClassManager.get('Ext.Base')) {
					this.emitScalar(Ext.ClassManager.getName(value));
					return false;
				}
			});
			
			Ext.Loader.setConfig({
				enabled: true
			});
			
			Ext.onReady( function () {
				jasmine.getEnv().addReporter(new jasmine.HtmlReporter());
				jasmine.getEnv().execute();
			});
		</script>
	</body>
</html>
